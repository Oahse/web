# ============================================
# BANWEE ENVIRONMENT CONFIGURATION TEMPLATE
# ============================================
# Copy this file to .dev.env for development or .prod.env for production
# and fill in the appropriate values for your environment.

# =============================================================================
# GENERAL SETTINGS
# =============================================================================

# Application environment: local, staging, or production
# Required: Yes | Default: local
ENVIRONMENT=local

# Application domain (without protocol)
# Required: Yes | Default: localhost
DOMAIN=localhost

# =============================================================================
# URL CONFIGURATION
# =============================================================================

# Frontend application URL (with protocol)
# Required: Yes | Default: http://localhost:5173
FRONTEND_URL=http://localhost:5173

# Backend API URL (with protocol)
# Required: Yes | Default: http://localhost:8000
BACKEND_URL=http://localhost:8000

# CORS allowed origins (comma-separated)
# Required: Yes | Default: http://localhost:5173,http://127.0.0.1:5173
BACKEND_CORS_ORIGINS=http://localhost:5173,http://127.0.0.1:5173,http://localhost:5173

# =============================================================================
# VITE FRONTEND CONFIGURATION
# =============================================================================

# Vite API base URL
# Required: Yes | Default: http://localhost:8000
VITE_API_BASE_URL=http://localhost:8000

# Application name
# Required: No | Default: Banwee
VITE_APP_NAME=Banwee

# =============================================================================
# DATABASE CONFIGURATION (PostgreSQL)
# =============================================================================

# Complete PostgreSQL connection URL (required for application)
# Required: Yes | Format: postgresql+asyncpg://user:password@host:port/database
POSTGRES_DB_URL=postgresql+asyncpg://banwee:banwee_password@postgres:5432/banwee_db

# PostgreSQL container initialization (required for Docker container setup)
# Required: Yes (for Docker) | Used by PostgreSQL container for initial setup
POSTGRES_USER=banwee
POSTGRES_PASSWORD=banwee_password
POSTGRES_DB=banwee_db

# Database connection pool settings
# Required: No | Defaults provided
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=30
DB_POOL_TIMEOUT=30
DB_POOL_RECYCLE=3600

# =============================================================================
# REDIS CONFIGURATION
# =============================================================================

# Redis connection URL
# Required: Yes | Default: redis://redis:6379/0 (Docker), redis://localhost:6379/0 (local)
REDIS_URL=redis://redis:6379/0

# Redis cache settings
# Required: No | Defaults provided
REDIS_CACHE_ENABLED=true
REDIS_RATELIMIT_ENABLED=true
REDIS_CACHE_TTL=3600
REDIS_CART_TTL_GUEST=1800
REDIS_CART_TTL_USER=259200
REDIS_CART_EXTEND_ON_ADD=true

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================

# Application secret key for JWT signing (minimum 32 characters, 64+ for production)
# Required: Yes | No default
# SECURITY: MUST be changed in production! Generate with: openssl rand -hex 32
SECRET_KEY=your_secret_key_here_change_in_production

# JWT algorithm
# Required: No | Default: HS256
ALGORITHM=HS256

# Token expiration settings
# Required: No | Defaults provided
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7

# Force logout on password change
# Required: No | Default: true
FORCE_LOGOUT_ON_PASSWORD_CHANGE=true

# =============================================================================
# STRIPE PAYMENT CONFIGURATION
# =============================================================================

# Stripe secret key (starts with sk_test_ or sk_live_)
# Required: Yes | No default
# SECURITY: Use sk_test_ for development, sk_live_ for production
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key

# Stripe webhook secret (starts with whsec_)
# Required: Yes | No default
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret

# Stripe public key (for frontend)
# Required: Yes | No default
VITE_STRIPE_PUBLIC_KEY=pk_test_your_stripe_public_key

# =============================================================================
# EMAIL CONFIGURATION (Mailgun)
# =============================================================================

# Mailgun API key
# Required: No (optional in development) | No default
MAILGUN_API_KEY=your_mailgun_api_key

# Mailgun domain
# Required: No (optional in development) | No default
MAILGUN_DOMAIN=mg.yourdomain.com

# From email address
# Required: No | Default: Banwee <noreply@banwee.com>
MAILGUN_FROM_EMAIL=Banwee <noreply@yourdomain.com>

# =============================================================================
# TAX CALCULATION SERVICES
# =============================================================================

# TaxJar API configuration
# Required: No | Defaults provided
TAX_API_KEY=your_taxjar_api_key_here
TAX_API_URL=https://api.taxjar.com/v2

# VAT Layer API configuration
# Required: No | Defaults provided
VAT_API_KEY=your_vat_api_key_here
VAT_API_URL=https://vatlayer.com/api

# =============================================================================
# SOCIAL AUTHENTICATION
# =============================================================================

# Google OAuth
# Required: No | No default
VITE_GOOGLE_CLIENT_ID=placeholder_google_client_id

# Facebook OAuth
# Required: No | No default
VITE_FACEBOOK_APP_ID=your_facebook_app_id
FACEBOOK_APP_SECRET=your_facebook_app_secret

# TikTok OAuth
# Required: No | No default
TIKTOK_CLIENT_KEY=your_tiktok_client_key
TIKTOK_CLIENT_SECRET=your_tiktok_client_secret

# =============================================================================
# MESSAGING SERVICES
# =============================================================================

# Telegram Bot
# Required: No | No default
TELEGRAM_BOT_TOKEN=

# WhatsApp Business API
# Required: No | No default
WHATSAPP_ACCESS_TOKEN=
PHONE_NUMBER_ID=

# =============================================================================
# ADMIN CONFIGURATION
# =============================================================================

# Admin user UUID
# Required: No | Default: your_admin_uuid_here
ADMIN_USER_ID=your_admin_uuid_here

# =============================================================================
# POSTGRESQL PERFORMANCE TUNING (Advanced)
# =============================================================================

# These settings are used in docker-compose.yml for PostgreSQL optimization
# Required: No | Defaults provided
POSTGRES_MAX_CONNECTIONS=100
POSTGRES_SHARED_BUFFERS=256MB
POSTGRES_EFFECTIVE_CACHE_SIZE=1GB
POSTGRES_WORK_MEM=4MB
POSTGRES_MAINTENANCE_WORK_MEM=64MB
POSTGRES_CHECKPOINT_COMPLETION_TARGET=0.9
POSTGRES_WAL_BUFFERS=16MB
POSTGRES_RANDOM_PAGE_COST=1.1
POSTGRES_EFFECTIVE_IO_CONCURRENCY=200

# =============================================================================
# NOTES
# =============================================================================
#
# REQUIRED VARIABLES FOR PRODUCTION:
# - SECRET_KEY (64+ characters)
# - STRIPE_SECRET_KEY (sk_live_*)
# - STRIPE_WEBHOOK_SECRET
# - POSTGRES_DB_URL (with strong password)
# - MAILGUN_API_KEY
# - MAILGUN_DOMAIN
#
# SECURITY CHECKLIST:
# 1. Change all default passwords
# 2. Use strong SECRET_KEY (64+ characters)
# 3. Use production Stripe keys (sk_live_*)
# 4. Enable HTTPS in production
# 5. Set ENVIRONMENT=production
# 6. Review CORS origins
# 7. Secure database credentials
#
# DOCKER vs LOCAL DEVELOPMENT:
# - Docker: Use service names (postgres, redis)
# - Local: Use localhost for all services
#
# =============================================================================
